<!doctype html>
<html class="docs-version-current" lang="en" dir="ltr">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width,initial-scale=1">
<meta name="generator" content="Docusaurus v2.0.0-beta.15">
<title data-react-helmet="true">datatools.s3 | Metaflow Docs</title><meta data-react-helmet="true" name="twitter:card" content="summary_large_image"><meta data-react-helmet="true" property="og:image" content="https://your-docusaurus-test-site.com/img/Metaflow_Logo_Vertical_FullColor_Ribbon_Dark_RGB.png"><meta data-react-helmet="true" name="twitter:image" content="https://your-docusaurus-test-site.com/img/Metaflow_Logo_Vertical_FullColor_Ribbon_Dark_RGB.png"><meta data-react-helmet="true" property="og:url" content="https://your-docusaurus-test-site.com/docs/api/metaflow/datatools/s3"><meta data-react-helmet="true" name="docusaurus_locale" content="en"><meta data-react-helmet="true" name="docusaurus_version" content="current"><meta data-react-helmet="true" name="docusaurus_tag" content="docs-default-current"><meta data-react-helmet="true" property="og:title" content="datatools.s3 | Metaflow Docs"><meta data-react-helmet="true" name="description" content="S3Object Objects"><meta data-react-helmet="true" property="og:description" content="S3Object Objects"><link data-react-helmet="true" rel="icon" href="/img/favicon.ico"><link data-react-helmet="true" rel="canonical" href="https://your-docusaurus-test-site.com/docs/api/metaflow/datatools/s3"><link data-react-helmet="true" rel="alternate" href="https://your-docusaurus-test-site.com/docs/api/metaflow/datatools/s3" hreflang="en"><link data-react-helmet="true" rel="alternate" href="https://your-docusaurus-test-site.com/docs/api/metaflow/datatools/s3" hreflang="x-default"><link rel="stylesheet" href="/assets/css/styles.045602e6.css">
<link rel="preload" href="/assets/js/runtime~main.925135a0.js" as="script">
<link rel="preload" href="/assets/js/main.8cbe57df.js" as="script">
</head>
<body data-theme="light">
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){var t=null;try{t=localStorage.getItem("theme")}catch(t){}return t}();t(null!==e?e:"light")}()</script><div id="__docusaurus">
<div role="region"><a href="#" class="skipToContent_ZgBM">Skip to main content</a></div><nav class="navbar navbar--fixed-top navbarHideable_aKYr"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Navigation bar toggle" class="navbar__toggle clean-btn" type="button" tabindex="0"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/docs"><div class="navbar__logo"><img src="/img/Metaflow_Logo_Horizontal_OneColor_White_RGB.svg" alt="Metaflow Logo" class="themedImage_W2Cr themedImage--light_TfLj" height="64px"><img src="/img/Metaflow_Logo_Horizontal_OneColor_White_RGB.svg" alt="Metaflow Logo" class="themedImage_W2Cr themedImage--dark_oUvU" height="64px"></div></a><a class="navbar__item navbar__link" href="/docs">Python Docs</a><a class="navbar__item navbar__link" href="/docs/r">R Docs</a><a href="https://admin-docs.metaflow.org/" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link"><span>Admin Docs<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_I5OW"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a></div><div class="navbar__items navbar__items--right"><div class="dsla-search-wrapper"><div class="dsla-search-field" data-tags="default,docs-default-current"></div></div><div class="toggle_Pssr toggle_TdHA toggleDisabled_jDku"><div class="toggleTrack_SSoT" role="button" tabindex="-1"><div class="toggleTrackCheck_XobZ"><span class="toggleIcon_eZtF">ðŸŒœ</span></div><div class="toggleTrackX_YkSC"><span class="toggleIcon_eZtF">ðŸŒž</span></div><div class="toggleTrackThumb_uRm4"></div></div><input type="checkbox" class="toggleScreenReader_JnkT" aria-label="Switch between dark and light mode"></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div class="main-wrapper docs-wrapper docs-doc-page"><div class="docPage_P2Lg"><button aria-label="Scroll back to top" class="clean-btn theme-back-to-top-button backToTopButton_RiI4" type="button"></button><aside class="theme-doc-sidebar-container docSidebarContainer_rKC_"><div class="sidebar_CW9Y sidebarWithHideableNavbar_FoYL"><a tabindex="-1" class="sidebarLogo_FJUI" href="/docs"><img src="/img/Metaflow_Logo_Horizontal_OneColor_White_RGB.svg" alt="Metaflow Logo" class="themedImage_W2Cr themedImage--light_TfLj" height="64px"><img src="/img/Metaflow_Logo_Horizontal_OneColor_White_RGB.svg" alt="Metaflow Logo" class="themedImage_W2Cr themedImage--dark_oUvU" height="64px"></a><nav class="menu thin-scrollbar menu_SkdO"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--active hasHref_VCh3" aria-current="page" href="/docs/api/metaflow/client/core">metaflow</a></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist hasHref_VCh3" tabindex="0" href="/docs/api/metaflow/client/core">client</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist hasHref_VCh3" tabindex="0" href="/docs/api/metaflow/datastore/content_addressed_store">datastore</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--active hasHref_VCh3" aria-current="page" tabindex="0" href="/docs/api/metaflow/datatools/s3">datatools</a></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link menu__link--active" aria-current="page" tabindex="0" href="/docs/api/metaflow/datatools/s3">s3</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/api/metaflow/datatools/s3util">s3util</a></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist hasHref_VCh3" tabindex="0" href="/docs/api/metaflow/metadata">metadata</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist hasHref_VCh3" tabindex="0" href="/docs/api/metaflow/plugins/aws/batch/batch_decorator">plugins</a></div></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/api/metaflow/decorators">decorators</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/api/metaflow/flowspec">flowspec</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/api/metaflow/includefile">includefile</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/api/metaflow/metaflow_environment">metaflow_environment</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/api/metaflow/metaflow_version">metaflow_version</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/api/metaflow/monitor">monitor</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/api/metaflow/package">package</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/api/metaflow/parameters">parameters</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/api/metaflow/runtime">runtime</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/api/metaflow/sidecar">sidecar</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/api/metaflow/sidecar_worker">sidecar_worker</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/api/metaflow/task">task</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/api/metaflow/unbounded_foreach">unbounded_foreach</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/api/metaflow/util">util</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/api/metaflow/vendor">vendor</a></li></ul></li></ul></nav></div></aside><main class="docMainContainer_TCnq"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_DM6M"><div class="docItemContainer_vinB"><article><div class="tocCollapsible_jdIR theme-doc-toc-mobile tocMobile_TmEX"><button type="button" class="clean-btn tocCollapsibleButton_Fzxq">On this page</button></div><div class="theme-doc-markdown markdown"><header><h1>datatools.s3</h1></header><h2 class="anchor anchorWithHideOnScrollNavbar_R0VQ" id="s3object-objects">S3Object Objects<a class="hash-link" href="#s3object-objects" title="Direct link to heading">â€‹</a></h2><div class="codeBlockContainer_I0IT language-python theme-code-block"><div class="codeBlockContent_wNvx python"><pre tabindex="0" class="prism-code language-python codeBlock_jd64 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">class</span><span class="token plain"> </span><span class="token class-name">S3Object</span><span class="token punctuation" style="color:#393A34">(</span><span class="token builtin">object</span><span class="token punctuation" style="color:#393A34">)</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_wuS7 clean-btn">Copy</button></div></div><p>This object represents a path or an object in S3,
with an optional local copy.
Get or list calls return one or more of S3Objects.</p><h4 class="anchor anchorWithHideOnScrollNavbar_R0VQ" id="exists">exists<a class="hash-link" href="#exists" title="Direct link to heading">â€‹</a></h4><div class="codeBlockContainer_I0IT language-python theme-code-block"><div class="codeBlockContent_wNvx python"><pre tabindex="0" class="prism-code language-python codeBlock_jd64 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#393A34"><span class="token plain"> </span><span class="token operator" style="color:#393A34">|</span><span class="token plain"> @</span><span class="token builtin">property</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> </span><span class="token operator" style="color:#393A34">|</span><span class="token plain"> exists</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_wuS7 clean-btn">Copy</button></div></div><p>Does this key correspond to an object in S3?</p><h4 class="anchor anchorWithHideOnScrollNavbar_R0VQ" id="downloaded">downloaded<a class="hash-link" href="#downloaded" title="Direct link to heading">â€‹</a></h4><div class="codeBlockContainer_I0IT language-python theme-code-block"><div class="codeBlockContent_wNvx python"><pre tabindex="0" class="prism-code language-python codeBlock_jd64 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#393A34"><span class="token plain"> </span><span class="token operator" style="color:#393A34">|</span><span class="token plain"> @</span><span class="token builtin">property</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> </span><span class="token operator" style="color:#393A34">|</span><span class="token plain"> downloaded</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_wuS7 clean-btn">Copy</button></div></div><p>Has this object been downloaded?</p><h4 class="anchor anchorWithHideOnScrollNavbar_R0VQ" id="url">url<a class="hash-link" href="#url" title="Direct link to heading">â€‹</a></h4><div class="codeBlockContainer_I0IT language-python theme-code-block"><div class="codeBlockContent_wNvx python"><pre tabindex="0" class="prism-code language-python codeBlock_jd64 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#393A34"><span class="token plain"> </span><span class="token operator" style="color:#393A34">|</span><span class="token plain"> @</span><span class="token builtin">property</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> </span><span class="token operator" style="color:#393A34">|</span><span class="token plain"> url</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_wuS7 clean-btn">Copy</button></div></div><p>S3 location of the object</p><h4 class="anchor anchorWithHideOnScrollNavbar_R0VQ" id="prefix">prefix<a class="hash-link" href="#prefix" title="Direct link to heading">â€‹</a></h4><div class="codeBlockContainer_I0IT language-python theme-code-block"><div class="codeBlockContent_wNvx python"><pre tabindex="0" class="prism-code language-python codeBlock_jd64 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#393A34"><span class="token plain"> </span><span class="token operator" style="color:#393A34">|</span><span class="token plain"> @</span><span class="token builtin">property</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> </span><span class="token operator" style="color:#393A34">|</span><span class="token plain"> prefix</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_wuS7 clean-btn">Copy</button></div></div><p>Prefix requested that matches the object.</p><h4 class="anchor anchorWithHideOnScrollNavbar_R0VQ" id="key">key<a class="hash-link" href="#key" title="Direct link to heading">â€‹</a></h4><div class="codeBlockContainer_I0IT language-python theme-code-block"><div class="codeBlockContent_wNvx python"><pre tabindex="0" class="prism-code language-python codeBlock_jd64 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#393A34"><span class="token plain"> </span><span class="token operator" style="color:#393A34">|</span><span class="token plain"> @</span><span class="token builtin">property</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> </span><span class="token operator" style="color:#393A34">|</span><span class="token plain"> key</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_wuS7 clean-btn">Copy</button></div></div><p>Key corresponds to the key given to the get call that produced
this object. This may be a full S3 URL or a suffix based on what
was requested.</p><h4 class="anchor anchorWithHideOnScrollNavbar_R0VQ" id="path">path<a class="hash-link" href="#path" title="Direct link to heading">â€‹</a></h4><div class="codeBlockContainer_I0IT language-python theme-code-block"><div class="codeBlockContent_wNvx python"><pre tabindex="0" class="prism-code language-python codeBlock_jd64 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#393A34"><span class="token plain"> </span><span class="token operator" style="color:#393A34">|</span><span class="token plain"> @</span><span class="token builtin">property</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> </span><span class="token operator" style="color:#393A34">|</span><span class="token plain"> path</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_wuS7 clean-btn">Copy</button></div></div><p>Path to the local file corresponding to the object downloaded.
This file gets deleted automatically when a S3 scope exits.
Returns None if this S3Object has not been downloaded.</p><h4 class="anchor anchorWithHideOnScrollNavbar_R0VQ" id="blob">blob<a class="hash-link" href="#blob" title="Direct link to heading">â€‹</a></h4><div class="codeBlockContainer_I0IT language-python theme-code-block"><div class="codeBlockContent_wNvx python"><pre tabindex="0" class="prism-code language-python codeBlock_jd64 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#393A34"><span class="token plain"> </span><span class="token operator" style="color:#393A34">|</span><span class="token plain"> @</span><span class="token builtin">property</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> </span><span class="token operator" style="color:#393A34">|</span><span class="token plain"> blob</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_wuS7 clean-btn">Copy</button></div></div><p>Contents of the object as a byte string.
Returns None if this S3Object has not been downloaded.</p><h4 class="anchor anchorWithHideOnScrollNavbar_R0VQ" id="text">text<a class="hash-link" href="#text" title="Direct link to heading">â€‹</a></h4><div class="codeBlockContainer_I0IT language-python theme-code-block"><div class="codeBlockContent_wNvx python"><pre tabindex="0" class="prism-code language-python codeBlock_jd64 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#393A34"><span class="token plain"> </span><span class="token operator" style="color:#393A34">|</span><span class="token plain"> @</span><span class="token builtin">property</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> </span><span class="token operator" style="color:#393A34">|</span><span class="token plain"> text</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_wuS7 clean-btn">Copy</button></div></div><p>Contents of the object as a Unicode string.
Returns None if this S3Object has not been downloaded.</p><h4 class="anchor anchorWithHideOnScrollNavbar_R0VQ" id="size">size<a class="hash-link" href="#size" title="Direct link to heading">â€‹</a></h4><div class="codeBlockContainer_I0IT language-python theme-code-block"><div class="codeBlockContent_wNvx python"><pre tabindex="0" class="prism-code language-python codeBlock_jd64 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#393A34"><span class="token plain"> </span><span class="token operator" style="color:#393A34">|</span><span class="token plain"> @</span><span class="token builtin">property</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> </span><span class="token operator" style="color:#393A34">|</span><span class="token plain"> size</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_wuS7 clean-btn">Copy</button></div></div><p>Size of the object in bytes.
Returns None if the key does not correspond to an object in S3.</p><h4 class="anchor anchorWithHideOnScrollNavbar_R0VQ" id="has_info">has<!-- -->_<!-- -->info<a class="hash-link" href="#has_info" title="Direct link to heading">â€‹</a></h4><div class="codeBlockContainer_I0IT language-python theme-code-block"><div class="codeBlockContent_wNvx python"><pre tabindex="0" class="prism-code language-python codeBlock_jd64 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#393A34"><span class="token plain"> </span><span class="token operator" style="color:#393A34">|</span><span class="token plain"> @</span><span class="token builtin">property</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> </span><span class="token operator" style="color:#393A34">|</span><span class="token plain"> has_info</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_wuS7 clean-btn">Copy</button></div></div><p>Returns true if this S3Object contains the content-type or user-metadata.
If False, this means that content_type and range_info will not return the
proper information</p><h4 class="anchor anchorWithHideOnScrollNavbar_R0VQ" id="metadata">metadata<a class="hash-link" href="#metadata" title="Direct link to heading">â€‹</a></h4><div class="codeBlockContainer_I0IT language-python theme-code-block"><div class="codeBlockContent_wNvx python"><pre tabindex="0" class="prism-code language-python codeBlock_jd64 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#393A34"><span class="token plain"> </span><span class="token operator" style="color:#393A34">|</span><span class="token plain"> @</span><span class="token builtin">property</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> </span><span class="token operator" style="color:#393A34">|</span><span class="token plain"> metadata</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_wuS7 clean-btn">Copy</button></div></div><p>Returns a dictionary of user-defined metadata</p><h4 class="anchor anchorWithHideOnScrollNavbar_R0VQ" id="content_type">content<!-- -->_<!-- -->type<a class="hash-link" href="#content_type" title="Direct link to heading">â€‹</a></h4><div class="codeBlockContainer_I0IT language-python theme-code-block"><div class="codeBlockContent_wNvx python"><pre tabindex="0" class="prism-code language-python codeBlock_jd64 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#393A34"><span class="token plain"> </span><span class="token operator" style="color:#393A34">|</span><span class="token plain"> @</span><span class="token builtin">property</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> </span><span class="token operator" style="color:#393A34">|</span><span class="token plain"> content_type</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_wuS7 clean-btn">Copy</button></div></div><p>Returns the content-type of the S3 object; if unknown, returns None</p><h4 class="anchor anchorWithHideOnScrollNavbar_R0VQ" id="range_info">range<!-- -->_<!-- -->info<a class="hash-link" href="#range_info" title="Direct link to heading">â€‹</a></h4><div class="codeBlockContainer_I0IT language-python theme-code-block"><div class="codeBlockContent_wNvx python"><pre tabindex="0" class="prism-code language-python codeBlock_jd64 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#393A34"><span class="token plain"> </span><span class="token operator" style="color:#393A34">|</span><span class="token plain"> @</span><span class="token builtin">property</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> </span><span class="token operator" style="color:#393A34">|</span><span class="token plain"> range_info</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_wuS7 clean-btn">Copy</button></div></div><p>Returns a namedtuple containing the following fields:</p><div class="codeBlockContainer_I0IT theme-code-block"><div class="codeBlockContent_wNvx"><pre tabindex="0" class="prism-code language-text codeBlock_jd64 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#393A34"><span class="token plain">- total_size: size in S3 of the object</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">- request_offset: the starting offset in this S3Object</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">- request_length: the length in this S3Object</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_wuS7 clean-btn">Copy</button></div></div><h4 class="anchor anchorWithHideOnScrollNavbar_R0VQ" id="last_modified">last<!-- -->_<!-- -->modified<a class="hash-link" href="#last_modified" title="Direct link to heading">â€‹</a></h4><div class="codeBlockContainer_I0IT language-python theme-code-block"><div class="codeBlockContent_wNvx python"><pre tabindex="0" class="prism-code language-python codeBlock_jd64 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#393A34"><span class="token plain"> </span><span class="token operator" style="color:#393A34">|</span><span class="token plain"> @</span><span class="token builtin">property</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> </span><span class="token operator" style="color:#393A34">|</span><span class="token plain"> last_modified</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_wuS7 clean-btn">Copy</button></div></div><p>Returns the last modified unix timestamp of the object, or None
if not fetched.</p><h2 class="anchor anchorWithHideOnScrollNavbar_R0VQ" id="s3-objects">S3 Objects<a class="hash-link" href="#s3-objects" title="Direct link to heading">â€‹</a></h2><div class="codeBlockContainer_I0IT language-python theme-code-block"><div class="codeBlockContent_wNvx python"><pre tabindex="0" class="prism-code language-python codeBlock_jd64 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">class</span><span class="token plain"> </span><span class="token class-name">S3</span><span class="token punctuation" style="color:#393A34">(</span><span class="token builtin">object</span><span class="token punctuation" style="color:#393A34">)</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_wuS7 clean-btn">Copy</button></div></div><h4 class="anchor anchorWithHideOnScrollNavbar_R0VQ" id="__init__">_<!-- -->_<!-- -->init<!-- -->_<!-- -->_<a class="hash-link" href="#__init__" title="Direct link to heading">â€‹</a></h4><div class="codeBlockContainer_I0IT language-python theme-code-block"><div class="codeBlockContent_wNvx python"><pre tabindex="0" class="prism-code language-python codeBlock_jd64 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#393A34"><span class="token plain"> </span><span class="token operator" style="color:#393A34">|</span><span class="token plain"> __init__</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">tmproot</span><span class="token operator" style="color:#393A34">=</span><span class="token string" style="color:#e3116c">&quot;.&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> bucket</span><span class="token operator" style="color:#393A34">=</span><span class="token boolean" style="color:#36acaa">None</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> prefix</span><span class="token operator" style="color:#393A34">=</span><span class="token boolean" style="color:#36acaa">None</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> run</span><span class="token operator" style="color:#393A34">=</span><span class="token boolean" style="color:#36acaa">None</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> s3root</span><span class="token operator" style="color:#393A34">=</span><span class="token boolean" style="color:#36acaa">None</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">**</span><span class="token plain">kwargs</span><span class="token punctuation" style="color:#393A34">)</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_wuS7 clean-btn">Copy</button></div></div><p>Initialize a new context for S3 operations. This object is used as
a context manager for a with statement.
There are two ways to initialize this object depending whether you want
to bind paths to a Metaflow run or not.</p><ol><li>With a run object:
run: (required) Either a FlowSpec object (typically <!-- -->&#x27;<!-- -->self<!-- -->&#x27;<!-- -->) or a
Run object corresponding to an existing Metaflow run. These
are used to add a version suffix in the S3 path.
bucket: (optional) S3 bucket.
prefix: (optional) S3 prefix.</li><li>Without a run object:
s3root: (optional) An S3 root URL for all operations. If this is
not specified, all operations require a full S3 URL.
These options are supported in both the modes:
tmproot: (optional) Root path for temporary files (default: <!-- -->&#x27;<!-- -->.<!-- -->&#x27;<!-- -->)</li></ol><h4 class="anchor anchorWithHideOnScrollNavbar_R0VQ" id="close">close<a class="hash-link" href="#close" title="Direct link to heading">â€‹</a></h4><div class="codeBlockContainer_I0IT language-python theme-code-block"><div class="codeBlockContent_wNvx python"><pre tabindex="0" class="prism-code language-python codeBlock_jd64 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#393A34"><span class="token plain"> </span><span class="token operator" style="color:#393A34">|</span><span class="token plain"> close</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_wuS7 clean-btn">Copy</button></div></div><p>Delete all temporary files downloaded in this context.</p><h4 class="anchor anchorWithHideOnScrollNavbar_R0VQ" id="list_paths">list<!-- -->_<!-- -->paths<a class="hash-link" href="#list_paths" title="Direct link to heading">â€‹</a></h4><div class="codeBlockContainer_I0IT language-python theme-code-block"><div class="codeBlockContent_wNvx python"><pre tabindex="0" class="prism-code language-python codeBlock_jd64 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#393A34"><span class="token plain"> </span><span class="token operator" style="color:#393A34">|</span><span class="token plain"> list_paths</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">keys</span><span class="token operator" style="color:#393A34">=</span><span class="token boolean" style="color:#36acaa">None</span><span class="token punctuation" style="color:#393A34">)</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_wuS7 clean-btn">Copy</button></div></div><p>List the next level of paths in S3. If multiple keys are
specified, listings are done in parallel. The returned
S3Objects have .exists == False if the url refers to a
prefix, not an existing S3 object.</p><p><strong>Arguments</strong>:</p><ul><li><code>keys</code> - (required) a list of suffixes for paths to list.</li></ul><p><strong>Returns</strong>:</p><p>  a list of S3Objects (not downloaded)</p><p><strong>Example</strong>:</p><p>  Consider the following paths in S3:
A/B/C
D/E
In this case, list_paths(<!-- -->[&#x27;<!-- -->A<!-- -->&#x27;<!-- -->, <!-- -->&#x27;<!-- -->D<!-- -->&#x27;]<!-- -->), returns <!-- -->[&#x27;<!-- -->A/B<!-- -->&#x27;<!-- -->, <!-- -->&#x27;<!-- -->D/E<!-- -->&#x27;]<!-- -->. The
first S3Object has .exists == False, since it does not refer to an
object in S3. It is just a prefix.</p><h4 class="anchor anchorWithHideOnScrollNavbar_R0VQ" id="list_recursive">list<!-- -->_<!-- -->recursive<a class="hash-link" href="#list_recursive" title="Direct link to heading">â€‹</a></h4><div class="codeBlockContainer_I0IT language-python theme-code-block"><div class="codeBlockContent_wNvx python"><pre tabindex="0" class="prism-code language-python codeBlock_jd64 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#393A34"><span class="token plain"> </span><span class="token operator" style="color:#393A34">|</span><span class="token plain"> list_recursive</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">keys</span><span class="token operator" style="color:#393A34">=</span><span class="token boolean" style="color:#36acaa">None</span><span class="token punctuation" style="color:#393A34">)</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_wuS7 clean-btn">Copy</button></div></div><p>List objects in S3 recursively. If multiple keys are
specified, listings are done in parallel. The returned
S3Objects have always .exists == True, since they refer
to existing objects in S3.</p><p><strong>Arguments</strong>:</p><ul><li><code>keys</code> - (required) a list of suffixes for paths to list.</li></ul><p><strong>Returns</strong>:</p><p>  a list of S3Objects (not downloaded)</p><p><strong>Example</strong>:</p><p>  Consider the following paths in S3:
A/B/C
D/E
In this case, list_recursive(<!-- -->[&#x27;<!-- -->A<!-- -->&#x27;<!-- -->, <!-- -->&#x27;<!-- -->D<!-- -->&#x27;]<!-- -->), returns <!-- -->[&#x27;<!-- -->A/B/C<!-- -->&#x27;<!-- -->, <!-- -->&#x27;<!-- -->D/E<!-- -->&#x27;]<!-- -->.</p><h4 class="anchor anchorWithHideOnScrollNavbar_R0VQ" id="info">info<a class="hash-link" href="#info" title="Direct link to heading">â€‹</a></h4><div class="codeBlockContainer_I0IT language-python theme-code-block"><div class="codeBlockContent_wNvx python"><pre tabindex="0" class="prism-code language-python codeBlock_jd64 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#393A34"><span class="token plain"> </span><span class="token operator" style="color:#393A34">|</span><span class="token plain"> info</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">key</span><span class="token operator" style="color:#393A34">=</span><span class="token boolean" style="color:#36acaa">None</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> return_missing</span><span class="token operator" style="color:#393A34">=</span><span class="token boolean" style="color:#36acaa">False</span><span class="token punctuation" style="color:#393A34">)</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_wuS7 clean-btn">Copy</button></div></div><p>Get information about a single object from S3</p><p><strong>Arguments</strong>:</p><ul><li><code>key</code> - (optional) a suffix identifying the object.</li><li><code>return_missing</code> - (optional, default False) if set to True, do
not raise an exception for a missing key but
return it as an S3Object with .exists == False.</li></ul><p><strong>Returns</strong>:</p><p>  an S3Object containing information about the object. The
downloaded property will be false and exists will indicate whether
or not the file exists</p><h4 class="anchor anchorWithHideOnScrollNavbar_R0VQ" id="info_many">info<!-- -->_<!-- -->many<a class="hash-link" href="#info_many" title="Direct link to heading">â€‹</a></h4><div class="codeBlockContainer_I0IT language-python theme-code-block"><div class="codeBlockContent_wNvx python"><pre tabindex="0" class="prism-code language-python codeBlock_jd64 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#393A34"><span class="token plain"> </span><span class="token operator" style="color:#393A34">|</span><span class="token plain"> info_many</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">keys</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> return_missing</span><span class="token operator" style="color:#393A34">=</span><span class="token boolean" style="color:#36acaa">False</span><span class="token punctuation" style="color:#393A34">)</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_wuS7 clean-btn">Copy</button></div></div><p>Get information about many objects from S3 in parallel.</p><p><strong>Arguments</strong>:</p><ul><li><code>keys</code> - (required) a list of suffixes identifying the objects.</li><li><code>return_missing</code> - (optional, default False) if set to True, do
not raise an exception for a missing key but
return it as an S3Object with .exists == False.</li></ul><p><strong>Returns</strong>:</p><p>  a list of S3Objects corresponding to the objects requested. The
downloaded property will be false and exists will indicate whether
or not the file exists.</p><h4 class="anchor anchorWithHideOnScrollNavbar_R0VQ" id="get">get<a class="hash-link" href="#get" title="Direct link to heading">â€‹</a></h4><div class="codeBlockContainer_I0IT language-python theme-code-block"><div class="codeBlockContent_wNvx python"><pre tabindex="0" class="prism-code language-python codeBlock_jd64 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#393A34"><span class="token plain"> </span><span class="token operator" style="color:#393A34">|</span><span class="token plain"> get</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">key</span><span class="token operator" style="color:#393A34">=</span><span class="token boolean" style="color:#36acaa">None</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> return_missing</span><span class="token operator" style="color:#393A34">=</span><span class="token boolean" style="color:#36acaa">False</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> return_info</span><span class="token operator" style="color:#393A34">=</span><span class="token boolean" style="color:#36acaa">True</span><span class="token punctuation" style="color:#393A34">)</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_wuS7 clean-btn">Copy</button></div></div><p>Get a single object from S3.</p><p><strong>Arguments</strong>:</p><ul><li><code>key</code> - (optional) a suffix identifying the object. Can also be
an object containing the properties <code>key</code>, <code>offset</code> and
<code>length</code> to specify a range query. <code>S3GetObject</code> is such an object.</li><li><code>return_missing</code> - (optional, default False) if set to True, do
not raise an exception for a missing key but
return it as an S3Object with .exists == False.</li><li><code>return_info</code> - (optional, default True) if set to True, fetch the
content-type and user metadata associated with the object.</li></ul><p><strong>Returns</strong>:</p><p>  an S3Object corresponding to the object requested.</p><h4 class="anchor anchorWithHideOnScrollNavbar_R0VQ" id="get_many">get<!-- -->_<!-- -->many<a class="hash-link" href="#get_many" title="Direct link to heading">â€‹</a></h4><div class="codeBlockContainer_I0IT language-python theme-code-block"><div class="codeBlockContent_wNvx python"><pre tabindex="0" class="prism-code language-python codeBlock_jd64 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#393A34"><span class="token plain"> </span><span class="token operator" style="color:#393A34">|</span><span class="token plain"> get_many</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">keys</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> return_missing</span><span class="token operator" style="color:#393A34">=</span><span class="token boolean" style="color:#36acaa">False</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> return_info</span><span class="token operator" style="color:#393A34">=</span><span class="token boolean" style="color:#36acaa">True</span><span class="token punctuation" style="color:#393A34">)</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_wuS7 clean-btn">Copy</button></div></div><p>Get many objects from S3 in parallel.</p><p><strong>Arguments</strong>:</p><ul><li><code>keys</code> - (required) a list of suffixes identifying the objects. Each
item in the list can also be an object containing the properties
<code>key</code>, <code>offset</code> and <code>length to specify a range query.
</code>S3GetObject` is such an object.</li><li><code>return_missing</code> - (optional, default False) if set to True, do
not raise an exception for a missing key but
return it as an S3Object with .exists == False.</li><li><code>return_info</code> - (optional, default True) if set to True, fetch the
content-type and user metadata associated with the object.</li></ul><p><strong>Returns</strong>:</p><p>  a list of S3Objects corresponding to the objects requested.</p><h4 class="anchor anchorWithHideOnScrollNavbar_R0VQ" id="get_recursive">get<!-- -->_<!-- -->recursive<a class="hash-link" href="#get_recursive" title="Direct link to heading">â€‹</a></h4><div class="codeBlockContainer_I0IT language-python theme-code-block"><div class="codeBlockContent_wNvx python"><pre tabindex="0" class="prism-code language-python codeBlock_jd64 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#393A34"><span class="token plain"> </span><span class="token operator" style="color:#393A34">|</span><span class="token plain"> get_recursive</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">keys</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> return_info</span><span class="token operator" style="color:#393A34">=</span><span class="token boolean" style="color:#36acaa">False</span><span class="token punctuation" style="color:#393A34">)</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_wuS7 clean-btn">Copy</button></div></div><p>Get many objects from S3 recursively in parallel.</p><p><strong>Arguments</strong>:</p><ul><li><code>keys</code> - (required) a list of suffixes for paths to download
recursively.</li><li><code>return_info</code> - (optional, default False) if set to True, fetch the
content-type and user metadata associated with the object.</li></ul><p><strong>Returns</strong>:</p><p>  a list of S3Objects corresponding to the objects requested.</p><h4 class="anchor anchorWithHideOnScrollNavbar_R0VQ" id="get_all">get<!-- -->_<!-- -->all<a class="hash-link" href="#get_all" title="Direct link to heading">â€‹</a></h4><div class="codeBlockContainer_I0IT language-python theme-code-block"><div class="codeBlockContent_wNvx python"><pre tabindex="0" class="prism-code language-python codeBlock_jd64 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#393A34"><span class="token plain"> </span><span class="token operator" style="color:#393A34">|</span><span class="token plain"> get_all</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">return_info</span><span class="token operator" style="color:#393A34">=</span><span class="token boolean" style="color:#36acaa">False</span><span class="token punctuation" style="color:#393A34">)</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_wuS7 clean-btn">Copy</button></div></div><p>Get all objects from S3 recursively (in parallel). This request
only works if S3 is initialized with a run or a s3root prefix.</p><p><strong>Arguments</strong>:</p><ul><li><code>return_info</code> - (optional, default False) if set to True, fetch the
content-type and user metadata associated with the object.</li></ul><p><strong>Returns</strong>:</p><p>  a list of S3Objects corresponding to the objects requested.</p><h4 class="anchor anchorWithHideOnScrollNavbar_R0VQ" id="put">put<a class="hash-link" href="#put" title="Direct link to heading">â€‹</a></h4><div class="codeBlockContainer_I0IT language-python theme-code-block"><div class="codeBlockContent_wNvx python"><pre tabindex="0" class="prism-code language-python codeBlock_jd64 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#393A34"><span class="token plain"> </span><span class="token operator" style="color:#393A34">|</span><span class="token plain"> put</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">key</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> obj</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> overwrite</span><span class="token operator" style="color:#393A34">=</span><span class="token boolean" style="color:#36acaa">True</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> content_type</span><span class="token operator" style="color:#393A34">=</span><span class="token boolean" style="color:#36acaa">None</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> metadata</span><span class="token operator" style="color:#393A34">=</span><span class="token boolean" style="color:#36acaa">None</span><span class="token punctuation" style="color:#393A34">)</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_wuS7 clean-btn">Copy</button></div></div><p>Put an object to S3.</p><p><strong>Arguments</strong>:</p><ul><li><code>key</code> - (required) suffix for the object.</li><li><code>obj</code> - (required) a bytes, string, or a unicode object to
be stored in S3.</li><li><code>overwrite</code> - (optional) overwrites the key with obj, if it exists</li><li><code>content_type</code> - (optional) string representing the MIME type of the
object</li><li><code>metadata</code> - (optional) User metadata to store alongside the object</li></ul><p><strong>Returns</strong>:</p><p>  an S3 URL corresponding to the object stored.</p><h4 class="anchor anchorWithHideOnScrollNavbar_R0VQ" id="put_many">put<!-- -->_<!-- -->many<a class="hash-link" href="#put_many" title="Direct link to heading">â€‹</a></h4><div class="codeBlockContainer_I0IT language-python theme-code-block"><div class="codeBlockContent_wNvx python"><pre tabindex="0" class="prism-code language-python codeBlock_jd64 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#393A34"><span class="token plain"> </span><span class="token operator" style="color:#393A34">|</span><span class="token plain"> put_many</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">key_objs</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> overwrite</span><span class="token operator" style="color:#393A34">=</span><span class="token boolean" style="color:#36acaa">True</span><span class="token punctuation" style="color:#393A34">)</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_wuS7 clean-btn">Copy</button></div></div><p>Put objects to S3 in parallel.</p><p><strong>Arguments</strong>:</p><ul><li><code>key_objs</code> - (required) an iterator of (key, value) tuples. Value must
be a string, bytes, or a unicode object. Instead of
(key, value) tuples, you can also pass any object that
has the following properties <!-- -->&#x27;<!-- -->key<!-- -->&#x27;<!-- -->, <!-- -->&#x27;<!-- -->value<!-- -->&#x27;<!-- -->, <!-- -->&#x27;<!-- -->content_type<!-- -->&#x27;<!-- -->,
<!-- -->&#x27;<!-- -->metadata<!-- -->&#x27;<!-- --> like the S3PutObject for example. <!-- -->&#x27;<!-- -->key<!-- -->&#x27;<!-- --> and
<!-- -->&#x27;<!-- -->value<!-- -->&#x27;<!-- --> are required but others are optional.</li><li><code>overwrite</code> - (optional) overwrites the key with obj, if it exists</li></ul><p><strong>Returns</strong>:</p><p>  a list of (key, S3 URL) tuples corresponding to the files sent.</p><h4 class="anchor anchorWithHideOnScrollNavbar_R0VQ" id="put_files">put<!-- -->_<!-- -->files<a class="hash-link" href="#put_files" title="Direct link to heading">â€‹</a></h4><div class="codeBlockContainer_I0IT language-python theme-code-block"><div class="codeBlockContent_wNvx python"><pre tabindex="0" class="prism-code language-python codeBlock_jd64 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#393A34"><span class="token plain"> </span><span class="token operator" style="color:#393A34">|</span><span class="token plain"> put_files</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">key_paths</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> overwrite</span><span class="token operator" style="color:#393A34">=</span><span class="token boolean" style="color:#36acaa">True</span><span class="token punctuation" style="color:#393A34">)</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_wuS7 clean-btn">Copy</button></div></div><p>Put files to S3 in parallel.</p><p><strong>Arguments</strong>:</p><ul><li><code>key_paths</code> - (required) an iterator of (key, path) tuples. Instead of
(key, path) tuples, you can also pass any object that
has the following properties <!-- -->&#x27;<!-- -->key<!-- -->&#x27;<!-- -->, <!-- -->&#x27;<!-- -->path<!-- -->&#x27;<!-- -->, <!-- -->&#x27;<!-- -->content_type<!-- -->&#x27;<!-- -->,
<!-- -->&#x27;<!-- -->metadata<!-- -->&#x27;<!-- --> like the S3PutObject for example. <!-- -->&#x27;<!-- -->key<!-- -->&#x27;<!-- --> and
<!-- -->&#x27;<!-- -->path<!-- -->&#x27;<!-- --> are required but others are optional.</li><li><code>overwrite</code> - (optional) overwrites the key with obj, if it exists</li></ul><p><strong>Returns</strong>:</p><p>  a list of (key, S3 URL) tuples corresponding to the files sent.</p></div><footer class="theme-doc-footer docusaurus-mt-lg"><div class="theme-doc-footer-edit-meta-row row"><div class="col"><a href="https://github.com/outerbounds/docusaurus/tree/main/docs/api/metaflow/datatools/s3.md" target="_blank" rel="noreferrer noopener" class="theme-edit-this-page"><svg fill="currentColor" height="20" width="20" viewBox="0 0 40 40" class="iconEdit_dcUD" aria-hidden="true"><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"></path></g></svg>Edit this page</a></div><div class="col lastUpdated_foO9"></div></div></footer></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="Docs pages navigation"><div class="pagination-nav__item"><a class="pagination-nav__link" href="/docs/api/metaflow/datastore/task_datastore"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">task_datastore</div></a></div><div class="pagination-nav__item pagination-nav__item--next"><a class="pagination-nav__link" href="/docs/api/metaflow/datatools/s3util"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">s3util</div></a></div></nav></div></div><div class="col col--3"><div class="tableOfContents_cNA8 thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#s3object-objects" class="table-of-contents__link toc-highlight">S3Object Objects</a></li><li><a href="#s3-objects" class="table-of-contents__link toc-highlight">S3 Objects</a></li></ul></div></div></div></div></main></div></div></div>
<script src="/assets/js/runtime~main.925135a0.js"></script>
<script src="/assets/js/main.8cbe57df.js"></script>
</body>
</html>