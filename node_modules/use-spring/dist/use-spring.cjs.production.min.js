"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var t,n=(t=require("react"))&&"object"==typeof t&&"default"in t?t.default:t,r=require("react-dom");function e(){return"undefined"!=typeof window?performance.now():0}function u(t,n){var r=n.stiffness,e=n.damping,u=n.mass,a=n.decimals,f=n.teleport;return{X:t,k:null!=r?r:170,c:null!=e?e:26,m:null!=u?u:1,teleport:null!=f&&f,decimals:null!=a?a:2}}function a(t,n){var r=n.from,u=n.initialSpeed;return{x0:null!=r?r:t,v0:null!=u?u:0,t0:e(),raf:null}}var f=Math.sqrt,c=Math.exp,i=Math.sin,l=Math.cos;function o(t){var n=t.v0,r=t.c,e=t.m,u=t.X,a=t.x0-u,o=(t.t-t.t0)/1e3,v=r*r-4*t.k*e;if(v>0){var s=(-r+f(v))/(2*e),d=(-r-f(v))/(2*e),m=(a*s-n)/(s-d),p=(n-a*d)/(s-d);return{x:u+m*c(d*o)+p*c(s*o),v:m*d*c(d*o)+p*s*c(s*o)}}if(v<0){var x=-r/(2*e),h=f(-v)/(2*e),k=a,X=(n-x*a)/h;return{x:u+c(x*o)*(k*l(h*o)+X*i(h*o)),v:c(x*o)*((X*h+k*x)*l(h*o)-(k*h-X*x)*i(h*o))}}var M=-r/(2*e),w=a,b=n-M*a;return{x:u+(w+b*o)*c(M*o),v:(b+w*M+b*M*o)*c(M*o)}}var v=[],s=null;function d(t){var n=v.push(t);return 1===n&&(s=requestAnimationFrame(p)),[s,n-1]}function m(t){t[0]===s&&delete v[t[1]]}function p(){var t=e(),n=v;v=[],r.unstable_batchedUpdates((function(){return n.forEach((function(n){return n&&n(t)}))}))}var x="undefined"!=typeof window?n.useLayoutEffect:n.useEffect;function h(t,n){var r=Math.pow(10,n);return Math.round(t*r)/r}exports.useSpring=function(t,r){void 0===r&&(r={});var f=n.useState()[1],c=u(t,r),i=function(t,r){var e=n.useRef(null);return null==e.current&&(e.current={config:u(t,r),state:a(t,r)}),e.current}(t,r),l=i.state,v=i.config,s=e(),p=v.X,k=c.teleport?{x:p,v:0}:o({x0:l.x0,v0:l.v0,t0:l.t0,t:s,k:v.k,c:v.c,m:v.m,X:p}),X=k.x,M=k.v,w=function(t,n,r,e){var u=e.decimals,a=e.X,f=e.k,c=e.c,i=e.m;return h(t,u)!==h(a,u)||h(o({x0:t,v0:n,t0:r,t:r+.016,k:f,c:c,m:i,X:a}).x,u)!==h(a,u)}(X,M,s,c);return x((function(){Object.assign(v,c)}),[c.X,c.k,c.c,c.m,c.teleport]),x((function(){l.x0=X,l.v0=M,l.t0=s}),[X,M,s]),x((function(){w&&null==l.raf?l.raf=d((function t(n){var r=l.x0,e=v.decimals;h(o({x0:r,v0:l.v0,t0:l.t0,t:n,k:v.k,c:v.c,m:v.m,X:v.X}).x,e)!==h(r,e)?(l.raf=null,f(n)):l.raf=d(t)})):w||null==l.raf||(m(l.raf),l.raf=null)})),x((function(){return function(){null!=l.raf&&m(l.raf)}}),[]),[h(X,c.decimals),w]};
//# sourceMappingURL=use-spring.cjs.production.min.js.map
