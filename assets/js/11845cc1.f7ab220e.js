"use strict";(self.webpackChunkdocusaurus=self.webpackChunkdocusaurus||[]).push([[8422],{3905:function(e,r,t){t.d(r,{Zo:function(){return l},kt:function(){return d}});var o=t(7294);function n(e,r,t){return r in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}function s(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);r&&(o=o.filter((function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable}))),t.push.apply(t,o)}return t}function a(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?s(Object(t),!0).forEach((function(r){n(e,r,t[r])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):s(Object(t)).forEach((function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))}))}return e}function c(e,r){if(null==e)return{};var t,o,n=function(e,r){if(null==e)return{};var t,o,n={},s=Object.keys(e);for(o=0;o<s.length;o++)t=s[o],r.indexOf(t)>=0||(n[t]=e[t]);return n}(e,r);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(o=0;o<s.length;o++)t=s[o],r.indexOf(t)>=0||Object.prototype.propertyIsEnumerable.call(e,t)&&(n[t]=e[t])}return n}var i=o.createContext({}),u=function(e){var r=o.useContext(i),t=r;return e&&(t="function"==typeof e?e(r):a(a({},r),e)),t},l=function(e){var r=u(e.components);return o.createElement(i.Provider,{value:r},e.children)},p={inlineCode:"code",wrapper:function(e){var r=e.children;return o.createElement(o.Fragment,{},r)}},f=o.forwardRef((function(e,r){var t=e.components,n=e.mdxType,s=e.originalType,i=e.parentName,l=c(e,["components","mdxType","originalType","parentName"]),f=u(t),d=n,m=f["".concat(i,".").concat(d)]||f[d]||p[d]||s;return t?o.createElement(m,a(a({ref:r},l),{},{components:t})):o.createElement(m,a({ref:r},l))}));function d(e,r){var t=arguments,n=r&&r.mdxType;if("string"==typeof e||n){var s=t.length,a=new Array(s);a[0]=f;var c={};for(var i in r)hasOwnProperty.call(r,i)&&(c[i]=r[i]);c.originalType=e,c.mdxType="string"==typeof e?e:n,a[1]=c;for(var u=2;u<s;u++)a[u]=t[u];return o.createElement.apply(null,a)}return o.createElement.apply(null,t)}f.displayName="MDXCreateElement"},3012:function(e,r,t){t.r(r),t.d(r,{frontMatter:function(){return c},contentTitle:function(){return i},metadata:function(){return u},toc:function(){return l},default:function(){return f}});var o=t(7462),n=t(3366),s=(t(7294),t(3905)),a=["components"],c={sidebar_label:"resources_decorator",title:"plugins.resources_decorator"},i=void 0,u={unversionedId:"api/metaflow/plugins/resources_decorator",id:"api/metaflow/plugins/resources_decorator",title:"plugins.resources_decorator",description:"ResourcesDecorator Objects",source:"@site/docs/api/metaflow/plugins/resources_decorator.md",sourceDirName:"api/metaflow/plugins",slug:"/api/metaflow/plugins/resources_decorator",permalink:"/docs/api/metaflow/plugins/resources_decorator",editUrl:"https://github.com/outerbounds/docusaurus/tree/main/docs/api/metaflow/plugins/resources_decorator.md",tags:[],version:"current",frontMatter:{sidebar_label:"resources_decorator",title:"plugins.resources_decorator"},sidebar:"apiMetaflow",previous:{title:"environment_decorator",permalink:"/docs/api/metaflow/plugins/environment_decorator"},next:{title:"retry_decorator",permalink:"/docs/api/metaflow/plugins/retry_decorator"}},l=[{value:"ResourcesDecorator Objects",id:"resourcesdecorator-objects",children:[],level:2},{value:"Parameters",id:"parameters",children:[],level:2}],p={toc:l};function f(e){var r=e.components,t=(0,n.Z)(e,a);return(0,s.kt)("wrapper",(0,o.Z)({},p,t,{components:r,mdxType:"MDXLayout"}),(0,s.kt)("h2",{id:"resourcesdecorator-objects"},"ResourcesDecorator Objects"),(0,s.kt)("pre",null,(0,s.kt)("code",{parentName:"pre",className:"language-python"},"class ResourcesDecorator(StepDecorator)\n")),(0,s.kt)("p",null,"Step decorator to specify the resources needed when executing this step."),(0,s.kt)("p",null,"This decorator passes this information along to container orchestrator\n(AWS Batch, Kubernetes, etc.) when requesting resources to execute this\nstep."),(0,s.kt)("p",null,"This decorator is ignored if the execution of the step happens locally."),(0,s.kt)("p",null,"To use, annotate your step as follows:"),(0,s.kt)("pre",null,(0,s.kt)("code",{parentName:"pre"},"@resources(cpu=32)\n@step\ndef my_step(self):\n    ...\n")),(0,s.kt)("h2",{id:"parameters"},"Parameters"),(0,s.kt)("p",null,"cpu : int\nNumber of CPUs required for this step. Defaults to 1\ngpu : int\nNumber of GPUs required for this step. Defaults to 0\nmemory : int\nMemory size (in MB) required for this step. Defaults to 4096\nshared_memory : int\nThe value for the size (in MiB) of the /dev/shm volume for this step.\nThis parameter maps to the --shm-size option to docker run ."))}f.isMDXComponent=!0}}]);